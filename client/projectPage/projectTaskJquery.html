<template name="projectTasksScripts">
  <script>
   $(document).ready(function(){
     
          function resizeInput() {
          var a = $(this).val().length+1  
          $(this).attr('size', a);
          }
     
          console.log($('.project-page-tasks').find('input'))
          // resize on key up        
          $('.project-page-tasks').find('input').keydown(resizeInput);
          $('.head-label-edit').keydown(resizeInput);

          // resize on page load
          $('.project-page-tasks').find('input').keydown(resizeInput).each(resizeInput);
          $('.head-label-edit').keydown(resizeInput).each(resizeInput);
     
          // Toggles the task labels on click 
          $('.project-page-tasks').on('click', '.project-task-header', function(){
            $(this).next(".task-labels").slideToggle(150);
            $(".detail").hide();
          });



          //Toggles the tasks
          $('.project-page-tasks').on('click', '.btn', function(){
            var selector = $(this).attr('name');
            var status  = $(this).parents(".project-tasks").find("."+selector).css("display");

            if (status == "block"){
              $(this).parents(".project-tasks").find("."+selector).hide()
              return;
            }

            $(".detail").hide();
            $(this).parents(".project-tasks").find("."+selector).show();      
          });
          
     
          //Toggles the add task form
          $('#addTask').click(function(){
            var switcher;
                
            if($(this).text() === "Add Task"){
              $(this).text("Hide Form");
              switcher = true;
            }else{
              $(this).text("Add Task");
              switcher = false;
            }
            
            $('.task-form').slideToggle(300);
            
            if(switcher){
               $('html, body').animate({
                  scrollTop: $(".task-form").offset().top
              }, 500);
            }
          });
            
   });
  </script>
</template>